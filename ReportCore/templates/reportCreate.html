{% extends "report-base.html" %}
{% load static %}
{% block title %}Обновление состояния{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/report.css' %}">

<script src="https://js.api.here.com/v3/3.1/mapsjs-core.js" type="text/javascript" charset="utf-8"></script>
<script src="https://js.api.here.com/v3/3.1/mapsjs-service.js" type="text/javascript" charset="utf-8"></script>
<script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-clustering.js"></script>

<link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />
{% endblock %}
{% block content %}
<div class="alert">
    <div class="message">
        <div class="close">
            <i class="far fa-times-circle"></i>
        </div>
        <div class="text">
            Заполните все поля!
        </div>
    </div>
</div>
<script>
    function sendForm() {
        $("form").submit();
    }
    $(".alert").fadeOut(1)
</script>
<div class="container-fluid content">
    <h1 class="title">Сообщите ваше состояние здоровья</h1>
    <form action="/report/" method="post">
        {% csrf_token %}
        <h3>Вам пришел результат теста?</h3>
        <div class="d-flex align-items-center">
            <div class="spandiv">
                <span class="span" style="margin-right: 0.5rem; margin-left: 0;">Нет</span>
            </div>
            <label class="switch">
                <input type="checkbox" name="has_result" id="has_result">
                <span class="slider round"></span>
            </label>
            <input type="hidden" name="has_result_h" value="false">
            <div class="spandiv">
                <span class="span" style="margin-left: 0.5rem;">Да</span>
            </div>
        </div>
        <div id="test_result_div">
            <h3>Результат вашего теста.</h3>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="radio" name="test_result" value="p">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Положительный</span>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="radio" name="test_result" value="n">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Отрицательный</span>
                </div>
            </div>
        </div>
        <div>
            <h3>Возможные контакты с носителями.</h3>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="radio" name="contacts" value="n">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Контакта с носителями не наблюдалось</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="radio" name="contacts" value="p">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Наблюдался контакт с потенциальным переносчиком вируса</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="radio" name="contacts" value="a">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Наблюдался контакт с заражённым</span><br>
                </div>
            </div>
        </div>
        <div>
            <h3>Симптомы, которые у вас проявляются.</h3>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="TP">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Повышение температуры тела</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="DC">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Сухой кашель</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="FT">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Утомляемость</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="PS">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Различные болевые ощущения</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="ST">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Боль в горле</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="DR">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Диарея</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="CN">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Конъюнктивит</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="HD">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Головная боль</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="LT">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Потеря обоняния и вкусовых ощущений</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="SR">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Сыпь на коже</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="DB">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Затрудненное дыхание или одышка</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="CP">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Боль в грудной клетке</span><br>
                </div>
            </div>
            <div class="d-flex align-items-center">
                <label class="switch">
                    <input type="checkbox" name="symptoms" value="MF">
                    <span class="slider round"></span>
                </label>
                <div class="spandiv">
                    <span class="span">Нарушение речи или двигательных функций</span><br>
                </div>
            </div>
            <input type="hidden" name="symptomsStr" id="symptoms">
            <input type="hidden" name="places" id="places">
        </div>
        <div>
            <h3>Укажите места, которые вы недавно посещали</h3>
            <p>Нажмите на карту, чтобы добавить место. Нажмите на метку, чтобы удалить её. Вы можете перетаскивать
                метки.</p>
            <div id="map" style="height:600px"></div>
        </div>
        <div class="sendButton" onclick="sendForm()">Отправить <i class="far fa-paper-plane"></i></div>
    </form>
    <br>
    <br>
</div>
<script>
    $("#test_result_div").hide();
</script>
<script src="{% static 'js/report.js' %}"></script>
{% endblock %}